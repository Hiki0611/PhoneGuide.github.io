<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Äî –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
  <meta name="description" content="–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞. –¢—ë–º–Ω–∞—è —Ç–µ–º–∞, –∑–µ–ª—ë–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã." />
  <style>
    :root{
      --bg:#0b0e10;
      --card:#0f1416;
      --muted:#9aa6a1;
      --accent:#00b37e; /* –∑–µ–ª—ë–Ω—ã–π */
      --glass: rgba(255,255,255,0.03);
      --radius:14px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(0,179,126,0.04), transparent),
                  linear-gradient(180deg, #060708 0%, var(--bg) 100%);
      color:#e6efe9;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
      line-height:1.35;
    }

    .wrap{
      width:100%;
      max-width:420px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:calc(var(--radius));
      padding:26px;
      box-shadow: 0 10px 30px rgba(2,6,8,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }

    .visual{
      display:flex;align-items:center;gap:14px;
    }
    .icon{
      width:78px;height:78px;flex:0 0 78px;border-radius:18px;
      background:linear-gradient(135deg, rgba(0,179,126,0.15), rgba(0,179,126,0.06));
      display:grid;place-items:center;backdrop-filter: blur(6px);
      border:1px solid rgba(0,179,126,0.14);
    }

    svg{width:46px;height:46px}

    h1{
      font-size:18px;margin:0;color:#e8f7ef;
      transition: opacity .45s ease, transform .45s ease;
    }
    p.lead{margin:6px 0 0;color:var(--muted);font-size:13px;transition: opacity .45s ease, transform .45s ease}

    .status{
      margin-top:18px;padding:14px;border-radius:12px;background:var(--glass);
      display:flex;gap:12px;align-items:center;justify-content:space-between;
      border:1px solid rgba(255,255,255,0.02)
    }
    .status .left{display:flex;gap:12px;align-items:center}
    .dot{
      width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.06);box-shadow:0 2px 6px rgba(0,0,0,0.6);
      border:2px solid rgba(255,255,255,0.03)
    }
    .dot.off{background:#6b6f73;border-color:rgba(0,0,0,0.5)}
    .dot.online{background:var(--accent);box-shadow:0 4px 18px rgba(0,179,126,0.18)}

    .actions{display:flex;gap:10px;margin-top:18px}
    .btn{flex:1;padding:12px 14px;border-radius:12px;border:0;font-weight:600;font-size:14px;cursor:pointer}
    .btn.primary{background:linear-gradient(180deg,var(--accent),#00a36d);color:#06221b;box-shadow:0 10px 28px rgba(0,179,126,0.12)}

    .hint{margin-top:14px;font-size:13px;color:var(--muted)}
    .contact{color:var(--accent);font-weight:600}

    footer{margin-top:16px;text-align:center;color:rgba(255,255,255,0.04);font-size:12px}

    /* –º–∞–ª–µ–Ω—å–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ */
    .fade {
      opacity: 0;
      transform: translateY(6px);
    }
    .pulse{animation:pulse 1.8s infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}

    /* responsive tweaks */
    @media (max-width:380px){.wrap{padding:18px}.icon{width:64px;height:64px;border-radius:12px}
      svg{width:40px;height:40px}}
  </style>
</head>
<body>
  <main class="wrap" role="main" aria-labelledby="title">
    <div class="visual">
      <div class="icon" aria-hidden="true">
        <!-- simple wifi + slash icon -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" role="img" aria-label="no connection icon">
          <path d="M2 2l20 20" stroke="url(#g)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M5.1 10.1a9 9 0 0 1 13.8 0" stroke="url(#g)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M8.2 13.2a5 5 0 0 1 7.6 0" stroke="url(#g)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M11.4 16.4a1.4 1.4 0 1 1 1.99 0" stroke="url(#g)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <defs>
            <linearGradient id="g" x1="0" x2="1">
              <stop offset="0" stop-color="#8fffd1" stop-opacity="0.9" />
              <stop offset="1" stop-color="#00b37e" stop-opacity="0.95" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div style="flex:1">
        <h1 id="title">–ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</h1>
        <p class="lead" id="subtitle">–ü–æ—Ö–æ–∂–µ, –º—ã –Ω–µ –º–æ–∂–µ–º —Å–≤—è–∑–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.</p>
      </div>
    </div>

    <div class="status" id="status">
      <div class="left">
        <div class="dot off" id="dot" aria-hidden="true"></div>
        <div>
          <div id="statusTitle" style="font-weight:700">–û—Ñ–ª–∞–π–Ω</div>
          <div id="statusMsg" style="font-size:13px;color:var(--muted)">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ</div>
        </div>
      </div>
      <div style="min-width:72px;text-align:right">
        <div id="tryText" style="font-size:13px;color:var(--muted)">–ê–≤—Ç–æ: ‚Äî</div>
      </div>
    </div>

    <div class="actions">
      <button class="btn primary" id="retry" aria-label="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
    </div>

    <p class="hint" id="hint">–ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –µ—Å—Ç—å, –Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –≤ <span class="contact">@ill_hack_you</span>. –ú—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º üòâ</p>

    <footer id="footer">–°–æ–≤–µ—Ç: Wi-Fi / –ú–æ–±–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí –≤–∫–ª—é—á–µ–Ω—ã? üì∂</footer>
  </main>

  <script>
    /* ========== –¢–ï–ö–°–¢–´ –ù–ê 3 –Ø–ó–´–ö–ê ========== */
    const LANGS = [
      { // 0: Uzbek (o'zbek)
        lang: "uz",
        ui: {
          title: "Server bilan aloqa yo‚Äòq",
          subtitle: "Ko‚Äòproq server bilan bog‚Äòlanolmayapmiz. Tarmoqni tekshiring yoki qayta urinib ko‚Äòring.",
          retry: "Qayta",
          hint: "Internet bor, lekin ilova ishlamayapti? <span class='contact'>@ill_hack_you</span> bilan bog‚Äòlaning.",
          footer: "Maslahat: Wi-Fi / Mobil ma'lumot yoqilganmi? üì∂",
          status_offline_title: "Ofline",
          status_offline_msg: "Internetga ulanish topilmadi",
          checking: "Tekshirilmoqda...",
          server_ok_title: "Server mavjud",
          server_ok_msg: "Internet va server javob beradi.",
          server_fail_title: "Internet bor, lekin serverga yeta olmadi",
          server_fail_msg: "Tarmoq ishlayotgan bo‚Äòlishi mumkin, lekin backend javob bermayapti."
        }
      },
      { // 1: Russian
        lang: "ru",
        ui: {
          title: "–ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",
          subtitle: "–ü–æ—Ö–æ–∂–µ, –º—ã –Ω–µ –º–æ–∂–µ–º —Å–≤—è–∑–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
          retry: "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å",
          hint: "–ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –µ—Å—Ç—å, –Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç ‚Äî —Å–≤—è–∂–∏—Ç–µ—Å—å —Å <span class='contact'>@ill_hack_you</span>.",
          footer: "–°–æ–≤–µ—Ç: Wi-Fi / –ú–æ–±–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí –≤–∫–ª—é—á–µ–Ω—ã? üì∂",
          status_offline_title: "–û—Ñ–ª–∞–π–Ω",
          status_offline_msg: "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ",
          checking: "–ü—Ä–æ–≤–µ—Ä–∫–∞...",
          server_ok_title: "–°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω",
          server_ok_msg: "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞—é—Ç ‚Äî –Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –∏–Ω–∞—á–µ.",
          server_fail_title: "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –µ—Å—Ç—å, –Ω–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
          server_fail_msg: "–ü–æ—Ö–æ–∂–µ, —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –±—ç–∫–µ–Ω–¥ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç."
        }
      },
      { // 2: English
        lang: "en",
        ui: {
          title: "No connection",
          subtitle: "We can't reach the server. Check your network or try again.",
          retry: "Retry",
          hint: "Internet works but the app doesn't? Contact <span class='contact'>@ill_hack_you</span>.",
          footer: "Tip: Is Wi-Fi / Mobile data turned on? üì∂",
          status_offline_title: "Offline",
          status_offline_msg: "No internet connection detected",
          checking: "Checking...",
          server_ok_title: "Server reachable",
          server_ok_msg: "Internet and server respond ‚Äî app may still behave differently.",
          server_fail_title: "Online, but server unreachable",
          server_fail_msg: "Network works, but backend does not respond."
        }
      }
    ];

    /* ========== –≠–õ–ï–ú–ï–ù–¢–´ UI ========== */
    const $ = id => document.getElementById(id);
    const titleEl = $('title');
    const subtitleEl = $('subtitle');
    const retryBtn = $('retry');
    const hintEl = $('hint');
    const footerEl = $('footer');
    const dot = $('dot');
    const statusTitle = $('statusTitle');
    const statusMsg = $('statusMsg');
    const tryText = $('tryText');

    /* ========== –Ø–ó–´–ö–û–í–û–ô –¶–ò–ö–õ ========== */
    let langIndex = 1; // —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å (1=—Ä—É—Å—Å–∫–∏–π), —á—Ç–æ–±—ã –≤—ã–≥–ª—è–¥–µ–ª–æ –∫–∞–∫ —Ä–∞–Ω—å—à–µ
    const LANG_SWITCH_INTERVAL = 4000; // ms

    function applyLang(idx){
      const u = LANGS[idx].ui;
      // –ø–ª–∞–≤–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ
      titleEl.classList.add('fade');
      subtitleEl.classList.add('fade');
      hintEl.classList.add('fade');
      retryBtn.classList.add('fade');
      footerEl.classList.add('fade');

      // –æ–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
      setTimeout(() => {
        titleEl.textContent = u.title;
        subtitleEl.innerHTML = u.subtitle;
        retryBtn.textContent = u.retry;
        hintEl.innerHTML = u.hint;
        footerEl.textContent = u.footer;
        // –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –≤ –æ—Ñ—Ñ–ª–∞–π ‚Äî –æ–±–Ω–æ–≤–∏–º —Å—Ç–∞—Ç—É—Å—ã –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–æ
        if(!navigator.onLine){
          statusTitle.textContent = u.status_offline_title;
          statusMsg.textContent = u.status_offline_msg;
          tryText.textContent = '–ê–≤—Ç–æ: ‚Äî';
        } else {
          // –µ—Å–ª–∏ –æ–Ω–ª–∞–π–Ω ‚Äî –æ—Å—Ç–∞–≤–∏–º –∫–∞–∫ –µ—Å—Ç—å; —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π update()
        }

        // –ø–æ–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
        titleEl.classList.remove('fade');
        subtitleEl.classList.remove('fade');
        hintEl.classList.remove('fade');
        retryBtn.classList.remove('fade');
        footerEl.classList.remove('fade');
      }, 220);
    }

    // –Ω–∞—á–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
    applyLang(langIndex);

    // –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –∫—Ä—É–≥—É
    setInterval(()=>{
      langIndex = (langIndex + 1) % LANGS.length;
      applyLang(langIndex);
    }, LANG_SWITCH_INTERVAL);

    /* ========== –°–ï–¢–ï–í–ê–Ø –õ–û–ì–ò–ö–ê (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å) ========== */
    function fetchWithTimeout(url, ms = 3000){
      const controller = new AbortController();
      const id = setTimeout(()=>controller.abort(), ms);
      return fetch(url, {method:'GET', cache:'no-store', signal:controller.signal}).finally(()=>clearTimeout(id));
    }

    async function checkServerReachable(){
      try{
        const origin = window.location.origin || (location.protocol + '//' + location.host);
        const url = origin + '/favicon.ico';
        const res = await fetchWithTimeout(url, 2500);
        return res && (res.status >= 200 && res.status < 400);
      }catch(e){
        return false;
      }
    }

    async function update(){
      const u = LANGS[langIndex].ui;
      const online = navigator.onLine;
      if(!online){
        dot.classList.remove('online');
        dot.classList.add('off');
        statusTitle.textContent = u.status_offline_title;
        statusMsg.textContent = u.status_offline_msg;
        subtitleEl.textContent = u.subtitle;
        tryText.textContent = '–ê–≤—Ç–æ: ‚Äî';
        hintEl.style.display = 'block';
        return;
      }

      // –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä–∏–º —Å–µ—Ä–≤–µ—Ä
      statusTitle.textContent = u.checking;
      statusMsg.textContent = '–û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞';
      tryText.textContent = '–ê–≤—Ç–æ: ...';
      dot.classList.remove('off');
      dot.classList.add('pulse');

      const ok = await checkServerReachable();
      dot.classList.remove('pulse');
      if(ok){
        dot.classList.remove('off');
        dot.classList.add('online');
        statusTitle.textContent = u.server_ok_title;
        statusMsg.textContent = u.server_ok_msg;
        subtitleEl.textContent = u.subtitle;
        tryText.textContent = '–ê–≤—Ç–æ: –≤–∫–ª.';
        hintEl.style.display = 'none';
      }else{
        dot.classList.remove('online');
        dot.classList.add('off');
        statusTitle.textContent = u.server_fail_title;
        statusMsg.textContent = u.server_fail_msg;
        subtitleEl.textContent = u.subtitle;
        tryText.textContent = '–ê–≤—Ç–æ: –≤–∫–ª.';
        hintEl.style.display = 'block';
      }
    }

    window.addEventListener('online', update);
    window.addEventListener('offline', update);

    retryBtn.addEventListener('click', async ()=>{
      retryBtn.disabled = true;
      const prev = retryBtn.textContent;
      retryBtn.textContent = LANGS[langIndex].ui.checking || '–ü—Ä–æ–≤–µ—Ä—è–µ–º...';
      await update();
      setTimeout(()=>{ retryBtn.disabled = false; retryBtn.textContent = LANGS[langIndex].ui.retry; }, 900);
    });

    // initial
    update();

    // –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ online)
    let autoTimer = setInterval(()=>{ if(navigator.onLine) update(); }, 10000);
  </script>
</body>
</html>
